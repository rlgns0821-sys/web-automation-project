<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìë™ì˜ˆë§¤ - ìŠ¤í¬ë¦½íŠ¸</title>
   
<!-- Favicons -->
<link href="/assets/img/thunder_icon.png" rel="icon">
    
<style>
/* ì‚¬ì´íŠ¸ ë°”ë¡œê°€ê¸° ì˜ì—­ */
.site-link {
  margin-top: 0.75rem;
  text-align: center;
}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.site-btn {
  width: 100%;
  padding: 0.6rem 0.75rem;

  background: rgba(99, 102, 241, 0.08);   /* primary ì—°í•œ ë°°ê²½ */
  border: 1px dashed rgba(99, 102, 241, 0.4);
  border-radius: 8px;

  color: var(--primary);
  font-size: 0.8rem;
  font-weight: 600;

  cursor: pointer;
  transition: all 0.2s ease;
}

/* hover íš¨ê³¼ */
.site-btn:hover {
  background: var(--primary);
  color: white;
  border-style: solid;
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(99, 102, 241, 0.25);
}
   
   	.favorite-icon {
	  position: absolute;
	  top: 1rem;
	  right: 1rem;
	
	  font-size: 1.4rem;
	  color: #cbd5f5; /* ê¸°ë³¸ ì—°í•œ ìƒ‰ */
	  cursor: pointer;
	
	  transition: all 0.2s ease;
	}
	
	.favorite-icon:hover {
	  color: #f59e0b;
	  transform: scale(1.15);
	}
	
	.favorite-icon.active {
	  color: #f59e0b;
	}
   
   	.modal-footer .btn-outline {
	  border-color: var(--primary);
	  color: var(--primary);
	}
	
	.modal-footer .btn-outline:hover {
	  background: var(--primary);
	  color: white;
	}
   
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
      	  }

       :root {
       --primary: #6366f1;
       --primary-dark: #4f46e5;
       --secondary: #8b5cf6;
       --success: #10b981;
       --warning: #f59e0b;
       --danger: #ef4444;
       --dark: #1e293b;
       --gray: #64748b;
       --light-gray: #f1f5f9;
       --border: #e2e8f0;
       }


       body {
           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
           background: var(--background);
           color: var(--text);
           line-height: 1.6;
       }

       .container {
           max-width: 1200px;
           margin: 0 auto;
           padding: 0 1rem;
       }

       /* Header & Navigation */
       header {
           background: white;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
           position: sticky;
           top: 0;
           z-index: 1000;
       }

       nav {
           max-width: 1200px;
           margin: 0 auto;
           padding: 0 1.5rem;
           display: flex;
           justify-content: space-between;
           align-items: center;
           height: 70px;
       }

       .logo {
           display: flex;
           align-items: center;
           gap: 0.75rem;
           font-size: 1.5rem;
           font-weight: 700;
           color: var(--primary);
           text-decoration: none;
       }

        .logo-icon {
           width: 40px;
           height: 40px;
           background: linear-gradient(135deg, var(--primary), var(--secondary));
           border-radius: 10px;
           display: flex;
           align-items: center;
           justify-content: center;
           color: white;
       }

       .nav-menu {
           display: flex;
           list-style: none;
           gap: 2rem;
           align-items: center;
       }

       .nav-menu a {
           text-decoration: none;
           color: var(--dark);
           font-weight: 500;
           transition: color 0.3s;
           position: relative;
       }

       .nav-menu a:hover {
           color: var(--primary);
       }

       .nav-menu a.active::after {
           content: '';
           position: absolute;
           bottom: -8px;
           left: 0;
           right: 0;
           height: 3px;
           background: var(--primary);
           border-radius: 3px;
       }

       .mobile-menu-btn {
           display: none;
           background: none;
           border: none;
           font-size: 1.5rem;
           cursor: pointer;
           color: var(--dark);
       }

       h1 {
           font-size: 1.5rem;
           font-weight: 700;
       }

       .subtitle {
           color: var(--text-muted);
           font-size: 0.875rem;
       }

       .stats {
           display: flex;
           gap: 2rem;
           font-size: 0.875rem;
           color: var(--text-muted);
       }

       /* Tabs */
       .tabs {
           display: flex;
           gap: 1rem;
           border-bottom: 2px solid var(--border);
           margin: 2rem 0;
       }

       .tab {
           padding: 0.75rem 1.5rem;
           background: none;
           border: none;
           cursor: pointer;
           font-size: 1rem;
           color: var(--text-muted);
           border-bottom: 2px solid transparent;
           margin-bottom: -2px;
           transition: all 0.2s;
       }

       .tab.active {
           color: var(--primary);
           border-bottom-color: var(--primary);
           font-weight: 600;
       }

       .tab-content {
           display: none;
       }

       .tab-content.active {
           display: block;
       }

       /* Cards */
       .card-grid {
           display: grid;
           /* â¬‡ï¸ í•µì‹¬ */
	    grid-auto-flow: column;      /* ì¤„ ë°”ê¿ˆ ê¸ˆì§€ */
	    grid-auto-columns: 370px;    /* ì¹´ë“œ í­ ê³ ì • */
	
	    gap: 1.5rem;
	    margin: 2rem 0;
	
	    overflow-x: auto;            /* ê°€ë¡œ ìŠ¤í¬ë¡¤ */
	    overflow-y: visible;         /* hover ê·¸ë¦¼ì ì‚´ë¦¬ê¸° */
	    padding: 2rem 0;             /* ê·¸ë¦¼ì ì—¬ìœ  ê³µê°„ */
       }

       .card {
           background: white;
           border: 1px solid var(--border);
           border-radius: 12px;
           padding: 1.5rem;
           transition: all 0.3s;
           position: relative;
       }

       .card:hover {
           box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
           transform: translateY(-2px);
       }

       .card-header {
           margin-bottom: 1rem;
       }

       .card-title {
           font-size: 1.25rem;
           font-weight: 600;
           margin-bottom: 0.5rem;
       }

       .card-description {
           color: var(--text-muted);
           font-size: 0.875rem;
       }

       .badge-group {
           display: flex;
           gap: 0.5rem;
           margin: 1rem 0;
           flex-wrap: wrap;
       }

       .badge {
           padding: 0.25rem 0.75rem;
           border-radius: 9999px;
           font-size: 0.75rem;
           font-weight: 500;
       }

       .badge-popular {
           background: linear-gradient(135deg, #f59e0b, #ef4444);
           color: white;
       }

       .badge-transport {
           background: rgba(59, 130, 246, 0.1);
           color: #2563eb;
       }

       .badge-ticket {
           background: rgba(168, 85, 247, 0.1);
           color: #7c3aed;
       }

       .badge-easy {
           background: rgba(16, 185, 129, 0.1);
           color: #059669;
       }

       .badge-medium {
           background: rgba(245, 158, 11, 0.1);
           color: #d97706;
       }

       .badge-hard {
           background: rgba(239, 68, 68, 0.1);
           color: #dc2626;
       }

       .features {
           margin: 1rem 0;
       }

       .features-title {
           font-size: 0.875rem;
           font-weight: 600;
           margin-bottom: 0.5rem;
       }

       .features-list {
           list-style: none;
       }

       .features-list li {
           font-size: 0.875rem;
           color: var(--text-muted);
           padding: 0.25rem 0;
           padding-left: 1rem;
           position: relative;
       }

       .features-list li::before {
           content: "â€¢";
           position: absolute;
           left: 0;
           color: var(--primary);
       }

       .card-link {
           display: inline-flex;
           align-items: center;
           gap: 0.25rem;
           color: var(--primary);
           text-decoration: none;
           font-size: 0.875rem;
           margin: 1rem 0;
       }

       .card-link:hover {
           text-decoration: underline;
       }

       /* Button */
       .btn {
           padding: 0.75rem 1.5rem;
           border: none;
           border-radius: 8px;
           font-size: 0.875rem;
           font-weight: 600;
           cursor: pointer;
           transition: all 0.2s;
           display: inline-flex;
           align-items: center;
           gap: 0.5rem;
           width: 100%;
           justify-content: center;
       }

       .btn-primary {
           background: var(--primary);
           color: white;
       }

       .btn-primary:hover {
           background: var(--primary-dark);
       }

       .btn-outline {
           background: transparent;
           border: 1px solid var(--primary);
           color: var(--primary);
       }

       .btn-outline:hover {
           background: var(--primary);
       }

       /* Modal */
       .modal {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           right: 0;
           bottom: 0;
           background: rgba(0, 0, 0, 0.5);
           z-index: 1000;
           align-items: center;
           justify-content: center;
           padding: 1rem;
       }

       .modal.active {
           display: flex;
       }

       .modal-content {
           background: white;
           border-radius: 12px;
           max-width: 800px;
           width: 100%;
           max-height: 90vh;
           overflow-y: auto;
           box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
       }

       .modal-header {
           padding: 1.5rem;
           border-bottom: 1px solid var(--border);
       }

       .modal-title {
           font-size: 1.25rem;
           font-weight: 600;
           margin-bottom: 0.25rem;
       }

       .modal-body {
           padding: 1.5rem;
       }

       .modal-footer {
           padding: 1.5rem;
           border-top: 1px solid var(--border);
           display: flex;
           gap: 0.5rem;
           justify-content: flex-end;
       }

       /* Code Block */
       .code-container {
           background: #1e293b;
           color: #e2e8f0;
           border-radius: 8px;
           padding: 1rem;
           overflow-x: auto;
           margin: 1rem 0;
           position: relative;
       }

       .code-container pre {
           margin: 0;
           font-family: 'Courier New', monospace;
           font-size: 0.875rem;
           line-height: 1.5;
       }

       .copy-btn {
           position: absolute;
           top: 0.5rem;
           right: 0.5rem;
           padding: 0.5rem 1rem;
           background: rgba(255, 255, 255, 0.1);
           border: 1px solid rgba(255, 255, 255, 0.2);
           color: white;
           border-radius: 4px;
           cursor: pointer;
           font-size: 0.75rem;
       }

       .copy-btn:hover {
           background: rgba(255, 255, 255, 0.2);
       }

       /* Instructions */
       .instructions {
           margin: 2rem 0;
       }

       .instruction-step {
           display: flex;
           gap: 1rem;
           margin-bottom: 1rem;
       }

       .step-number {
           width: 32px;
           height: 32px;
           background: var(--primary);
           color: white;
           border-radius: 50%;
           display: flex;
           align-items: center;
           justify-content: center;
           font-weight: 600;
           flex-shrink: 0;
       }
       
       /* Footer */
       footer {
           background: var(--dark);
           color: white;
           padding: 3rem 0 1.5rem;
       }

       .footer-content {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
           gap: 3rem;
           margin-bottom: 2rem;
       }

       .footer-section h4 {
           margin-bottom: 1rem;
           font-size: 1.25rem;
       }

       .footer-section ul {
           list-style: none;
       }

       .footer-section ul li {
           margin-bottom: 0.5rem;
       }

       .footer-section a {
           color: rgba(255,255,255,0.7);
           text-decoration: none;
           transition: color 0.3s;
       }

       .footer-section a:hover {
           color: white;
       }

       .footer-bottom {
           border-top: 1px solid rgba(255,255,255,0.1);
           padding-top: 1.5rem;
           text-align: center;
           color: rgba(255,255,255,0.6);
       }
       

       /* Alert Box */
       .alert {
           padding: 1rem;
           border-radius: 8px;
           margin: 1rem 0;
       }

       .alert-info {
           background: rgba(59, 130, 246, 0.1);
           border: 1px solid rgba(59, 130, 246, 0.2);
           color: #1e40af;
       }

       .alert-warning {
           background: rgba(245, 158, 11, 0.1);
           border: 1px solid rgba(245, 158, 11, 0.2);
           color: #92400e;
       }

       .alert-title {
           font-weight: 600;
           margin-bottom: 0.5rem;
       }

       /* Community */
       .community-header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 1.5rem;
       }

       .post-card {
           background: white;
           border: 1px solid var(--border);
           border-radius: 12px;
           padding: 1.5rem;
           margin-bottom: 1rem;
       }

       .post-header {
           display: flex;
           align-items: start;
           justify-content: space-between;
           margin-bottom: 1rem;
       }

       .post-title {
           font-size: 1.125rem;
           font-weight: 600;
           margin-bottom: 0.5rem;
       }

       .post-meta {
           font-size: 0.875rem;
           color: var(--text-muted);
           margin-top: 0.5rem;
       }

       .post-actions {
           display: flex;
           gap: 0.5rem;
           margin-top: 1rem;
       }

       .action-btn {
           padding: 0.5rem 1rem;
           background: transparent;
           border: 1px solid var(--border);
           border-radius: 6px;
           cursor: pointer;
           font-size: 0.875rem;
           display: flex;
           align-items: center;
           gap: 0.5rem;
           color: var(--text-muted);
       }

       .action-btn:hover {
           background: var(--card);
       }

    

       /* Responsive */
       @media (max-width: 768px) {
           .card-grid {
               grid-template-columns: 1fr;
           }

           .tabs {
               overflow-x: auto;
           }

           .modal-content {
               margin: 1rem;
           }
       }
       .scroll-top {
    position: fixed;
    right: 20px;
    bottom: 20px;
    width: 48px;
    height: 48px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    z-index: 9999;

    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s, transform 0.3s;
}

.scroll-top.show {
    opacity: 1;
    pointer-events: auto;
}

.scroll-top:hover {
    transform: translateY(-3px);
}
</style>
</head>
<body>
	<!-- header + nav ë¶€ë¶„ header.htmlì„ ì”€ìœ¼ë¡œì¨ ìœ ì§€ë³´ìˆ˜ í¸ë¦¬ -->
	<div th:replace="~{boardEx/header :: header}"></div>

    
    <!-- Main Content -->
    <main class="container">
        <!-- Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('scripts')">ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡</button>
            <!-- <button class="tab" onclick="switchTab('community')">ì»¤ë®¤ë‹ˆí‹° <span id="communityBadge">(4)</span></button> -->
            <button class="tab" onclick="goToCommunity()">ì»¤ë®¤ë‹ˆí‹° <span id="communityBadge"></span></button>
        </div>

        <!-- Scripts Tab -->
        <div id="scripts" class="tab-content active">
            <div class="alert alert-info">
                <div class="alert-title">ğŸ’¡ ì‚¬ìš© ë°©ë²•</div>
                <ol style="padding-left: 1.5rem; font-size: 0.875rem;">
                    <li>ì›í•˜ëŠ” ì‚¬ì´íŠ¸ì˜ ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ì„¤ì • í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”</li>
                    <li>ì„¤ì • í™”ë©´ì—ì„œ ì›í•˜ëŠ” ê°’ì„ ë„£ì–´ ì£¼ì„¸ìš”</li>
                    <li>ìë™ì˜ˆë§¤ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìë™ì˜ˆë§¤ê°€ ì‹œì‘ë©ë‹ˆë‹¤</li>
                    <li>ì˜ˆì•½í•˜ê¸°ê°€ ì™„ë£Œë˜ë©´ ë¬¸ìë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”!</li>
                </ol>
            </div>

            <div class="card-grid" id="siteCards"></div>
        </div>

        <!-- Community Tab -->
        <div id="community" class="tab-content">
            <div class="community-header">
                <div>
                    <h2>ì‚¬ì´íŠ¸ ì¶”ì²œ ê²Œì‹œíŒ</h2>
                    <p class="subtitle">ìë™ì˜ˆë§¤ê°€ í•„ìš”í•œ ì‚¬ì´íŠ¸ë¥¼ ì¶”ì²œí•´ì£¼ì„¸ìš”</p>
                </div>
                <button class="btn btn-primary" onclick="openCreatePost()">+ ì‚¬ì´íŠ¸ ì¶”ì²œí•˜ê¸°</button>
            </div>
        </div>
    </main>

    <div class="container" id="disclaimer">
        <div class="alert alert-warning">
            <div class="alert-title">âš ï¸ ì£¼ì˜ì‚¬í•­ ë° ë©´ì±…ì¡°í•­</div>
            <ul style="padding-left: 1.5rem; font-size: 0.875rem;">
                <li>ë³¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” êµìœ¡ ë° ì°¸ê³  ëª©ì ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤</li>
                <li>ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ëª¨ë“  ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤</li>
                <li>ê³¼ë„í•œ ìš”ì²­ìœ¼ë¡œ ì¸í•œ ì„œë²„ ë¶€í•˜ ë° IP ì°¨ë‹¨ì— ìœ ì˜í•˜ì„¸ìš”</li>
                <li>ê° ì‚¬ì´íŠ¸ì˜ ì´ìš©ì•½ê´€ì„ ì¤€ìˆ˜í•˜ë©° ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤</li>
                <li>ì˜ˆë§¤ ì„±ê³µì„ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë©°, ì‹¤ì œ ì˜ˆë§¤ëŠ” í•´ë‹¹ ì‚¬ì´íŠ¸ì˜ ì •ì±…ì— ë”°ë¦…ë‹ˆë‹¤</li>
            </ul>
        </div>
    </div>

    <!-- Script Viewer Modal -->
    <div id="scriptModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">ìŠ¤í¬ë¦½íŠ¸</h2>
                <p class="subtitle" id="modalDescription"></p>
            </div>
            <div class="modal-body">
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                    <button class="btn btn-outline" onclick="copyScript()" style="flex: 1;">ğŸ“‹ ìŠ¤í¬ë¦½íŠ¸ ë³µì‚¬</button>
                    <button class="btn btn-outline" onclick="downloadScript()" style="flex: 1;">ğŸ’¾ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ</button>
                </div>

                <div class="code-container" style="max-height: 400px; overflow-y: auto;">
                    <pre id="scriptCode"></pre>
                </div>

                <div class="instructions">
                    <h3 style="margin-bottom: 1rem;">ğŸ“‹ ë‹¨ê³„ë³„ ì‚¬ìš©ë²•</h3>
                    <div id="instructionSteps"></div>
                </div>

                <div class="alert alert-warning">
                    <div class="alert-title">âš ï¸ ì£¼ì˜ì‚¬í•­</div>
                    <ul style="padding-left: 1.5rem; font-size: 0.875rem;">
                        <li>ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ì „ CONFIG ì„¤ì •ê°’ì„ ë°˜ë“œì‹œ í™•ì¸í•˜ì„¸ìš”</li>
                        <li>ê³¼ë„í•œ ìš”ì²­ì€ IP ì°¨ë‹¨ì˜ ì›ì¸ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>ì˜ˆë§¤ ì„±ê³µ í›„ ë°˜ë“œì‹œ ê²°ì œë¥¼ ì™„ë£Œí•˜ì„¸ìš”</li>
                        <li>ìŠ¤í¬ë¦½íŠ¸ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ì˜ˆë§¤ ì„±ê³µì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal()">ë‹«ê¸°</button>
                <button class="btn btn-primary" onclick="goToSite()" id="goToSiteBtn">ì‚¬ì´íŠ¸ë¡œ ì´ë™</button>
            </div>
        </div>
    </div>
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
<script>
/* ==========ë©´ì±…ì‚¬í•­ ëª¨ë‹¬ì°½======== */
console.log('ğŸ”¥ modal js loaded');

document.addEventListener('click', function (e) {

  const openTarget = e.target.closest('[data-modal]');
  if (openTarget) {
    e.preventDefault();
    console.log('âœ… disclaimer click detected');

    const modalId = openTarget.dataset.modal + 'Modal';
    const modal = document.getElementById(modalId);

    console.log('modalId:', modalId);
    console.log('modal element:', modal);

    if (modal) modal.classList.add('active');
    return;
  }

  if (
    e.target.matches('[data-close]') ||
    e.target.classList.contains('modal')
  ) {
    const modal = e.target.closest('.modal');
    if (modal) modal.classList.remove('active');
  }
});
/* ========ëª¨ë‹¬ì°½ ë==================  */


function getScriptIdFromUrl() {
    const params = new URLSearchParams(window.location.search);
    return params.get('siteId');
}

let sites = [];

fetch('/boardEx/api/scripts')
.then(res => res.json())
.then(data => {
  sites = data;
  renderSites(sites);

  // ğŸš§ ìƒˆë¡œê³ ì¹¨í•´ë„ í•­ìƒ 1ë²ˆ ëœ¨ëŠ” ì•ˆë‚´
  const hasDevSites = sites.some(site => site.id !== 'srt');

  if (hasDevSites) {
    alert(
      'ğŸš§ ì•ˆë‚´\n\n' +
      'í˜„ì¬ ìë™ì˜ˆë§¤ ê¸°ëŠ¥ì€ SRTë§Œ ì œê³µ ì¤‘ì…ë‹ˆë‹¤.\n' +
      'ê·¸ ì™¸ ì‚¬ì´íŠ¸ëŠ” ê°œë°œ ì¤‘ì´ë©°\n' +
      'ìˆœì°¨ì ìœ¼ë¡œ ì˜¤í”ˆë  ì˜ˆì •ì…ë‹ˆë‹¤.'
    );
  }

  const siteId = getScriptIdFromUrl();
  if (siteId) {
    viewScript(siteId);
  }
});



function renderSites(sites) {
	  const container = document.getElementById('siteCards');

	  container.innerHTML = sites.map(site => `
	    <div class="card">
	      ${site.isPopular ? `
	        <i class="bi bi-star-fill favorite-icon"
	           onclick="addMyScript('${site.id}')"></i>
	      ` : ''}

	      <div class="card-header">
	        <h3 class="card-title">${site.name}</h3>
	        <p class="card-description">${site.description}</p>
	      </div>

	      <div class="badge-group">
	        <span class="badge badge-${site.category === 'êµí†µ' ? 'transport' : 'ticket'}">
	          ${site.category}
	        </span>
	        <span class="badge badge-${site.difficulty === 'ì‰¬ì›€'
	          ? 'easy' : site.difficulty === 'ë³´í†µ'
	          ? 'medium' : 'hard'}">
	          ë‚œì´ë„: ${site.difficulty}
	        </span>
	      </div>

	      <div class="features">
	        <ul class="features-list">
	          ${site.features.map(f => `<li>${f}</li>`).join('')}
	        </ul>
	      </div>
	      <div class="features site-link">
	        <button class="site-btn"
	        		onclick="window.open('${site.url}', '_blank')">
	        	ğŸ”— ê³µì‹ ì‚¬ì´íŠ¸ ë°”ë¡œê°€ê¸°
	        </button>
	      </div>

	      <button class="btn btn-primary"
	              onclick="goScriptPage('${site.id}')">
	        ğŸ“ ìë™ì˜ˆë§¤ í•˜ê¸°
	      </button>
	    </div>
	  `).join('');
}

      let currentSite = null;

      // Scripts
      const scripts = {
          srt: `// SRT ìë™ì˜ˆë§¤ ìŠ¤í¬ë¦½íŠ¸
// ì‚¬ìš©ë²•: SRT ì˜ˆë§¤ í˜ì´ì§€ì—ì„œ F12 â†’ Console íƒ­ì— ë¶™ì—¬ë„£ê¸°

// ==UserScript==
// @name         SRT Auto Booking (Spring ì—°ë™)
// @namespace    srt-auto-from-spring
// @version      1.0.0
// @description  Spring ì„¤ì •ê°’ìœ¼ë¡œ SRT ìë™ ì˜ˆë§¤
// @match        https://etk.srail.kr/*
// @run-at       document-end
// @grant        none
// ==/UserScript==

(function () {
  "use strict";

  /*********************************
   * ğŸ”§ ì‚¬ìš©ì ì„¤ì • (ì—¬ê¸°ë§Œ ìˆ˜ì •)
   *********************************/
  const CONFIG = {
    dptName: "ë™íƒ„",        // ì¶œë°œì—­ ì´ë¦„
    arvName: "ëŒ€ì „",        // ë„ì°©ì—­ ì´ë¦„
    dateDot: "2026.01.23",  // ë©”ì¸ í˜ì´ì§€ ë‚ ì§œ (YYYY.MM.DD)
    dateYmd: "20260123",    // ê²°ê³¼ í˜ì´ì§€ ë‚ ì§œ (YYYYMMDD)

    // â° ì‹œê°„ëŒ€ ë²”ìœ„ (ì¤‘ìš”)
    startTime: "060000",    // 07:00 ì´í›„
    endTime:   "120000",    // 12:00 ì´ì „

    refreshInterval: 1500   // ì¬ì¡°íšŒ ê°„ê²©(ms)
  };

  /*********************************
   * ğŸš‰ ì—­ ì´ë¦„ â†’ ì½”ë“œ
   *********************************/
  const STATION_CODE = {
    "ìˆ˜ì„œ": "0551",
    "ë™íƒ„": "0552",
    "í‰íƒì§€ì œ": "0553",
    "ì²œì•ˆì•„ì‚°": "0501",
    "ì˜¤ì†¡": "0502",
    "ëŒ€ì „": "0010",
    "ê³µì£¼": "0503",
    "ìµì‚°": "0504",
    "ì •ì": "0505",
    "ê´‘ì£¼ì†¡ì •": "0036",
    "ë‚˜ì£¼": "0037",
    "ëª©í¬": "0040",
    "ê¹€ì²œêµ¬ë¯¸": "0506",
    "ë™ëŒ€êµ¬": "0015",
    "ê²½ì£¼": "0507",
    "ìš¸ì‚°": "0508",
    "ë¶€ì‚°": "0020"
  };

  const STEP_KEY = "__SRT_STEP__";
  const ALERT_KEY = "__SRT_ALERT__";

  const dptCode = STATION_CODE[CONFIG.dptName];
  const arvCode = STATION_CODE[CONFIG.arvName];
  if (!dptCode || !arvCode) {
    alert("âŒ ì—­ ì´ë¦„ ì˜¤ë¥˜");
    return;
  }

  const step = sessionStorage.getItem(STEP_KEY);
  const url = location.href;

  console.log("ğŸš„ SRT AUTO SCRIPT", step, url);

  /*********************************
   * 1ï¸âƒ£ ë©”ì¸ í˜ì´ì§€ â†’ ì¡°íšŒ
   *********************************/
  if (url.includes("/main.do") && !step) {
    const dpt = document.querySelector("#dptRsStnCd");
    const arv = document.querySelector("#arvRsStnCd");
    const cal = document.querySelector("#cal");
    const tm  = document.querySelector("#dptTm");

    if (!dpt || !arv || !cal || !tm) return;

    dpt.value = dptCode;
    arv.value = arvCode;
    cal.value = CONFIG.dateDot;
    tm.value  = CONFIG.startTime;

    ["change"].forEach(ev => {
      dpt.dispatchEvent(new Event(ev, { bubbles: true }));
      arv.dispatchEvent(new Event(ev, { bubbles: true }));
      cal.dispatchEvent(new Event(ev, { bubbles: true }));
      tm.dispatchEvent(new Event(ev, { bubbles: true }));
    });

    const searchBtn =
      document.querySelector('button[onclick*="selectScheduleList"]') ||
      document.querySelector('input.inquery_btn');

    if (searchBtn) {
      sessionStorage.setItem(STEP_KEY, "SEARCH");
      searchBtn.click();
    }
  }

  /*********************************
   * 2ï¸âƒ£ ì¡°íšŒ ê²°ê³¼ â†’ ì‹œê°„ëŒ€ ëŒ€ê¸°
   *********************************/
  if (url.includes("selectScheduleList.do") && step === "SEARCH") {
    let found = false;

    const timer = setInterval(() => {
      if (found) return;

      const rows = [...document.querySelectorAll("table tbody tr")];

      for (const tr of rows) {
        if (!tr.innerText.includes("SRT")) continue;

        // â° ì‹œê°„ íŒŒì‹± (ì•ˆì •)
        const timeMatch = tr.innerText.match(/(\d{2}):(\d{2})/);
        if (!timeMatch) continue;

        const hhmm = timeMatch[1] + timeMatch[2] + "00";
        if (hhmm < CONFIG.startTime || hhmm > CONFIG.endTime) continue;

        // âœ… ì˜ˆì•½í•˜ê¸° ë²„íŠ¼ ì¡´ì¬ ì—¬ë¶€ë§Œ íŒë‹¨
        const reserveBtn = [...tr.querySelectorAll("a")]
          .find(a => a.innerText.includes("ì˜ˆì•½í•˜ê¸°"));

        if (!reserveBtn) continue;

        console.log("âœ… ì§€ì • ì‹œê°„ëŒ€ ì¢Œì„ ë°œê²¬");
        found = true;
        clearInterval(timer);

        sessionStorage.setItem(STEP_KEY, "RESERVED");
        reserveBtn.click();
        return;
      }

      // âŒ ì§„ì§œ ì—†ì„ ë•Œë§Œ ì¬ì¡°íšŒ
      console.log("ğŸ”„ í•´ë‹¹ ì‹œê°„ëŒ€ ì¢Œì„ ì—†ìŒ â†’ ì¬ì¡°íšŒ");
      document.querySelector('input.inquery_btn, button[onclick*="selectScheduleList"]')?.click();

    }, CONFIG.refreshInterval);
  }

  /*********************************
   * 3ï¸âƒ£ ì˜ˆì•½ í˜ì´ì§€ â†’ ê²°ì œí•˜ê¸°
   *********************************/
  if (url.includes("selectScheduleList.do") && step === "RESERVED") {
    const timer = setInterval(() => {
      const payBtn = [...document.querySelectorAll("a")]
        .find(a =>
          a.innerText.includes("ê²°ì œí•˜ê¸°") &&
          a.getAttribute("onclick")?.includes("settleAmount")
        );

      if (!payBtn) return;

      clearInterval(timer);

      if (!sessionStorage.getItem(ALERT_KEY)) {
        alert(
          "â° ì•ˆë‚´\n\n" +
          "10ë¶„ ë‚´ì— ê²°ì œí•˜ì§€ ì•Šìœ¼ë©´\n" +
          "ì˜ˆì•½ì´ ìë™ìœ¼ë¡œ ì·¨ì†Œë©ë‹ˆë‹¤.\n\n" +
          "ì§€ê¸ˆ ë°”ë¡œ ê²°ì œë¥¼ ì§„í–‰í•˜ì„¸ìš”."
        );
        sessionStorage.setItem(ALERT_KEY, "Y");
      }

      sessionStorage.setItem(STEP_KEY, "PAY");
      payBtn.click();
    }, 500);
  }

})();
`,
	hwa: `// ğŸŒ¿ í™”ë‹´ìˆ² ìë™ ì˜ˆì•½ ìŠ¤í¬ë¦½íŠ¸
	// ì‚¬ìš©ë²•: í™”ë‹´ìˆ² ì˜ˆì•½ í˜ì´ì§€ì—ì„œ F12 â†’ Consoleì— ë¶™ì—¬ë„£ê¸°

	(function () {
	  console.log('ğŸŒ¿ í™”ë‹´ìˆ² ìë™ì˜ˆì•½ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘');

	  const CONFIG = {
	    visitDate: '2025-04-20',   // ë°©ë¬¸ ë‚ ì§œ (YYYY-MM-DD)
	    ticketCount: 2,            // ì¸ì› ìˆ˜
	    retryInterval: 300         // ì¬ì‹œë„ ê°„ê²©(ms)
	  };

	  let tryCount = 0;

	  function tryReserve() {
	    tryCount++;
	    console.log('ğŸ”„ ì‹œë„ íšŸìˆ˜:', tryCount);

	    // ë‚ ì§œ ì„ íƒ
	    const dateBtn = document.querySelector(\`button[data-date="\${CONFIG.visitDate}"]\`);
	    if (dateBtn) dateBtn.click();

	    // ì¸ì› ìˆ˜ ì„ íƒ
	    const countSelect = document.querySelector('select[name="ticketCount"]');
	    if (countSelect) countSelect.value = CONFIG.ticketCount;

	    // ì˜ˆì•½ ë²„íŠ¼
	    const reserveBtn =
	      document.querySelector('.btn-reserve') ||
	      document.querySelector('button[type="submit"]');

	    if (reserveBtn && !reserveBtn.disabled) {
	      console.log('âœ… ì˜ˆì•½ ë²„íŠ¼ í´ë¦­!');
	      reserveBtn.click();
	      alert('ğŸŒ¿ í™”ë‹´ìˆ² ì˜ˆì•½ì„ ì‹œë„í•©ë‹ˆë‹¤! ê²°ì œë¥¼ ì§„í–‰í•˜ì„¸ìš”.');
	      return;
	    }

	    setTimeout(tryReserve, CONFIG.retryInterval);
	  }

	  console.log('âš™ï¸ ì„¤ì •ê°’:', CONFIG);
	  console.log('ğŸš€ ìë™ ì˜ˆì•½ ì‹œì‘');
	  tryReserve();

	  window.stopHwadam = function () {
	    console.log('â¹ï¸ ìë™ì˜ˆì•½ ì¤‘ì§€');
	    location.reload();
	  };

	  console.log('ğŸ’¡ ì¤‘ì§€í•˜ë ¤ë©´ stopHwadam() ì‹¤í–‰');
	})();`,

            ktx: `// KTX ìë™ì˜ˆë§¤ ìŠ¤í¬ë¦½íŠ¸
// ì‚¬ìš©ë²•: ì½”ë ˆì¼ ì˜ˆë§¤ í˜ì´ì§€ì—ì„œ F12 â†’ Console íƒ­ì— ë¶™ì—¬ë„£ê¸°

(function() {
  console.log('ğŸš„ KTX ìë™ì˜ˆë§¤ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘');
  
  // ì„¤ì •ê°’
  const CONFIG = {
    departureStation: 'ì„œìš¸',    // ì¶œë°œì—­
    arrivalStation: 'ë¶€ì‚°',      // ë„ì°©ì—­
    departureDate: '20250201',   // ì¶œë°œì¼ (YYYYMMDD)
    trainType: 'KTX',            // ì—´ì°¨ì¢…ë¥˜ (KTX, ITX ë“±)
    passengers: {
      adult: 1,                  // ì–´ë¥¸
      child: 0,                  // ì–´ë¦°ì´
      senior: 0                  // ê²½ë¡œ
    },
    preferredTime: '06',         // í¬ë§ ì¶œë°œì‹œê°„ (HH)
    retryInterval: 100,          // ì¬ì‹œë„ ê°„ê²© (ms)
  };
  
  let attemptCount = 0;
  let isRunning = true;
  
  // ì¢Œì„ ì¡°íšŒ ë° ì˜ˆì•½ í•¨ìˆ˜
  async function findAndReserve() {
    if (!isRunning) return;
    
    attemptCount++;
    console.log(\`ğŸ” ì¡°íšŒ ì‹œë„ #\${attemptCount}\`);
    
    try {
      // ì¡°íšŒí•˜ê¸° ë²„íŠ¼ í´ë¦­
      const inquiryBtn = document.querySelector('#search_top_tag') ||
                        document.querySelector('.btn_inq') ||
                        document.querySelector('img[alt="ì¡°íšŒí•˜ê¸°"]');
      
      if (inquiryBtn) {
        inquiryBtn.click();
        
        // ê²°ê³¼ í™•ì¸
        setTimeout(() => {
          // ì˜ˆì•½ ê°€ëŠ¥í•œ ì—´ì°¨ ì°¾ê¸°
          const trains = document.querySelectorAll('tr[id^="tableResult"]');
          
          for (let train of trains) {
            const reserveBtn = train.querySelector('a[href*="reservation"]') ||
                              train.querySelector('.btn_res');
            
            if (reserveBtn && !reserveBtn.classList.contains('disabled')) {
              console.log('âœ… ì˜ˆì•½ ê°€ëŠ¥í•œ ì—´ì°¨ ë°œê²¬!');
              reserveBtn.click();
              
              alert('ğŸ‰ ì˜ˆì•½ ê°€ëŠ¥í•œ ì¢Œì„ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤!\\në¹ ë¥´ê²Œ ê²°ì œë¥¼ ì§„í–‰í•˜ì„¸ìš”.');
              isRunning = false;
              return;
            }
          }
          
          // ì¢Œì„ì´ ì—†ìœ¼ë©´ ì¬ì‹œë„
          if (isRunning) {
            setTimeout(findAndReserve, CONFIG.retryInterval);
          }
        }, 800);
      }
    } catch (error) {
      console.error('âŒ ì˜¤ë¥˜:', error);
      if (isRunning) {
        setTimeout(findAndReserve, CONFIG.retryInterval);
      }
    }
  }
  
  // ì¶œë°œ/ë„ì°©ì—­ ë° ë‚ ì§œ ìë™ ì…ë ¥
  function autoFillForm() {
    try {
      // ì¶œë°œì—­
      const start = document.querySelector('input[name="start"]');
      if (start) start.value = CONFIG.departureStation;
      
      // ë„ì°©ì—­  
      const arrive = document.querySelector('input[name="arrive"]');
      if (arrive) arrive.value = CONFIG.arrivalStation;
      
      // ë‚ ì§œ
      const date = document.querySelector('input[name="s_date"]');
      if (date) date.value = CONFIG.departureDate;
      
      console.log('âœ… ì˜ˆë§¤ ì •ë³´ ìë™ ì…ë ¥ ì™„ë£Œ');
    } catch (error) {
      console.log('âš ï¸ ìë™ ì…ë ¥ ì‹¤íŒ¨ - ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”');
    }
  }
  
  // ì‹œì‘
  console.log('âš™ï¸ ì„¤ì •:', CONFIG);
  autoFillForm();
  
  console.log('ğŸš€ ìë™ ì˜ˆë§¤ ì‹œì‘!');
  console.log('ğŸ’¡ ì¤‘ì§€í•˜ë ¤ë©´: stopKTX() ì…ë ¥');
  
  setTimeout(findAndReserve, 1000);
  
  // ì¤‘ì§€ í•¨ìˆ˜
  window.stopKTX = function() {
    isRunning = false;
    console.log('â¹ï¸ ìë™ì˜ˆë§¤ ì¤‘ì§€ë¨');
  };
})();`,

            interpark: `// ì¸í„°íŒŒí¬ í‹°ì¼“ ìë™ì˜ˆë§¤ ìŠ¤í¬ë¦½íŠ¸
// ì‚¬ìš©ë²•: ì¸í„°íŒŒí¬ ì˜ˆë§¤ í˜ì´ì§€ì—ì„œ F12 â†’ Console íƒ­ì— ë¶™ì—¬ë„£ê¸°

(function() {
  console.log('ğŸ« ì¸í„°íŒŒí¬ ìë™ì˜ˆë§¤ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘');
  
  // ì„¤ì •ê°’
  const CONFIG = {
    targetDate: '2025-02-01',    // ëª©í‘œ ë‚ ì§œ
    targetTime: '14:00',         // ëª©í‘œ ì‹œê°„ëŒ€
    seatGrade: 'R',              // Rì„, Sì„, Aì„ ë“±
    quantity: 1,                 // í‹°ì¼“ ìˆ˜ëŸ‰
    retryInterval: 50,           // ì¬ì‹œë„ ê°„ê²© (ms) - ë¹ ë¥¼ìˆ˜ë¡ ìœ ë¦¬
    autoClickSpeed: 30,          // í´ë¦­ ì†ë„ (ms)
  };
  
  let attemptCount = 0;
  let isRunning = true;
  
  // ì˜ˆë§¤ ë²„íŠ¼ í´ë¦­ í•¨ìˆ˜
  async function clickReserveButton() {
    if (!isRunning) return;
    
    attemptCount++;
    if (attemptCount % 100 === 0) {
      console.log(\`ğŸ”„ ì‹œë„ íšŸìˆ˜: \${attemptCount}\`);
    }
    
    try {
      // ì˜ˆë§¤í•˜ê¸° ë²„íŠ¼ ì°¾ê¸°
      const reserveBtn = document.querySelector('.btnReserve') ||
                        document.querySelector('#btnReservation') ||
                        document.querySelector('a[href*="reservation"]') ||
                        document.querySelector('.btn-reservation') ||
                        Array.from(document.querySelectorAll('a, button'))
                          .find(el => el.textContent.includes('ì˜ˆë§¤í•˜ê¸°'));
      
      if (reserveBtn && !reserveBtn.classList.contains('disabled')) {
        console.log('âœ… ì˜ˆë§¤ ë²„íŠ¼ ë°œê²¬!');
        reserveBtn.click();
        
        // ë‚ ì§œ ì„ íƒ
        setTimeout(() => {
          selectDateAndSeat();
        }, 200);
        
        return;
      }
      
      // ê³„ì† ì¬ì‹œë„
      setTimeout(clickReserveButton, CONFIG.retryInterval);
      
    } catch (error) {
      console.error('ì˜¤ë¥˜:', error);
      setTimeout(clickReserveButton, CONFIG.retryInterval);
    }
  }
  
  // ë‚ ì§œ ë° ì¢Œì„ ì„ íƒ
  function selectDateAndSeat() {
    try {
      // ë‚ ì§œ ì„ íƒ
      const dateElements = document.querySelectorAll('.date-cell, .calendar-date');
      for (let dateEl of dateElements) {
        if (dateEl.textContent.includes(CONFIG.targetDate) ||
            dateEl.getAttribute('data-date') === CONFIG.targetDate) {
          console.log('ğŸ“… ë‚ ì§œ ì„ íƒ:', CONFIG.targetDate);
          dateEl.click();
          break;
        }
      }
      
      // ì‹œê°„ ì„ íƒ
      setTimeout(() => {
        const timeElements = document.querySelectorAll('.time-option, .playSeq');
        for (let timeEl of timeElements) {
          if (timeEl.textContent.includes(CONFIG.targetTime)) {
            console.log('â° ì‹œê°„ ì„ íƒ:', CONFIG.targetTime);
            timeEl.click();
            break;
          }
        }
        
        // ì¢Œì„ ì„ íƒ
        setTimeout(() => {
          selectSeats();
        }, 300);
      }, 300);
      
    } catch (error) {
      console.error('ë‚ ì§œ/ì‹œê°„ ì„ íƒ ì˜¤ë¥˜:', error);
    }
  }
  
  // ì¢Œì„ ì„ íƒ
  function selectSeats() {
    try {
      console.log('ğŸª‘ ì¢Œì„ ì„ íƒ ì‹œì‘');
      
      // ì¢Œì„ ë“±ê¸‰ ì„ íƒ
      const gradeBtn = document.querySelector(\`button[data-grade="\${CONFIG.seatGrade}"]\`) ||
                      document.querySelector(\`.grade-\${CONFIG.seatGrade}\`);
      
      if (gradeBtn) {
        gradeBtn.click();
        console.log('âœ… ì¢Œì„ ë“±ê¸‰ ì„ íƒ:', CONFIG.seatGrade);
      }
      
      // ìˆ˜ëŸ‰ ì„ íƒ
      setTimeout(() => {
        const quantityInput = document.querySelector('input[name="quantity"]') ||
                             document.querySelector('.quantity-input');
        if (quantityInput) {
          quantityInput.value = CONFIG.quantity;
          
          // ë³€ê²½ ì´ë²¤íŠ¸ íŠ¸ë¦¬ê±°
          quantityInput.dispatchEvent(new Event('change', { bubbles: true }));
          quantityInput.dispatchEvent(new Event('input', { bubbles: true }));
        }
        
        // ì¢Œì„ ì„ íƒ ì™„ë£Œ í›„ ë‹¤ìŒ ë‹¨ê³„
        setTimeout(() => {
          const nextBtn = document.querySelector('.btn-next') ||
                         document.querySelector('#nextBtn') ||
                         document.querySelector('button[type="submit"]');
          
          if (nextBtn) {
            console.log('âœ… ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™');
            nextBtn.click();
            
            alert('ğŸ‰ ì˜ˆë§¤ ì§„í–‰ ì¤‘!\\në¹ ë¥´ê²Œ ê²°ì œë¥¼ ì™„ë£Œí•˜ì„¸ìš”!');
            isRunning = false;
          }
        }, CONFIG.autoClickSpeed);
      }, CONFIG.autoClickSpeed);
      
    } catch (error) {
      console.error('ì¢Œì„ ì„ íƒ ì˜¤ë¥˜:', error);
    }
  }
  
  // ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘
  console.log('âš™ï¸ ì„¤ì •:', CONFIG);
  console.log('ğŸš€ ìë™ ì˜ˆë§¤ ì‹œì‘!');
  console.log('âš¡ ì¬ì‹œë„ ê°„ê²©:', CONFIG.retryInterval + 'ms');
  console.log('ğŸ’¡ ì¤‘ì§€: stopInterpark() ì…ë ¥');
  
  clickReserveButton();
  
  // ì¤‘ì§€ í•¨ìˆ˜
  window.stopInterpark = function() {
    isRunning = false;
    console.log('â¹ï¸ ìë™ì˜ˆë§¤ ì¤‘ì§€');
  };
})();`
        };

        const instructions = {
            srt: [
                "SRT í™ˆí˜ì´ì§€(https://etk.srail.kr)ì— ì ‘ì†í•©ë‹ˆë‹¤",
                "ë¡œê·¸ì¸ì„ ì™„ë£Œí•©ë‹ˆë‹¤",
                "ì˜ˆë§¤í•˜ê¸° í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤",
                "F12 í‚¤ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—½ë‹ˆë‹¤",
                "Console íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤",
                "ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê³  Enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤",
                "ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ì¢Œì„ì„ ì°¾ê¸° ì‹œì‘í•©ë‹ˆë‹¤",
                "ì¢Œì„ì´ ë°œê²¬ë˜ë©´ ìë™ìœ¼ë¡œ ì˜ˆì•½ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤"
            ],
            ktx: [
                "ì½”ë ˆì¼ í™ˆí˜ì´ì§€(https://www.letskorail.com)ì— ì ‘ì†í•©ë‹ˆë‹¤",
                "ë¡œê·¸ì¸ì„ ì™„ë£Œí•©ë‹ˆë‹¤",
                "ìŠ¹ì°¨ê¶Œ ì˜ˆë§¤ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤",
                "ì¶œë°œì—­, ë„ì°©ì—­, ë‚ ì§œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤",
                "F12 í‚¤ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—½ë‹ˆë‹¤",
                "Console íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤",
                "ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê³  Enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤",
                "ìë™ìœ¼ë¡œ ì¢Œì„ ì¡°íšŒê°€ ì‹œì‘ë©ë‹ˆë‹¤"
            ],
            interpark: [
                "ì¸í„°íŒŒí¬ í‹°ì¼“(https://tickets.interpark.com)ì— ì ‘ì†í•©ë‹ˆë‹¤",
                "ë¡œê·¸ì¸ì„ ì™„ë£Œí•©ë‹ˆë‹¤",
                "ì˜ˆë§¤í•˜ë ¤ëŠ” ê³µì—°/ì½˜ì„œíŠ¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤",
                "F12 í‚¤ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—½ë‹ˆë‹¤",
                "Console íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤",
                "ìŠ¤í¬ë¦½íŠ¸ì˜ CONFIG ë¶€ë¶„ì—ì„œ ë‚ ì§œ/ì‹œê°„/ì¢Œì„ ë“±ê¸‰ì„ ìˆ˜ì •í•©ë‹ˆë‹¤",
                "ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê³  Enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤",
                "ì˜ˆë§¤ ì˜¤í”ˆ ì‹œê°„ì— ìë™ìœ¼ë¡œ í´ë¦­ì´ ì‹œì‘ë©ë‹ˆë‹¤"
            ],
	        hwa: [
	            "í™”ë‹´ìˆ² ê³µì‹ ì˜ˆì•½ í˜ì´ì§€ì— ì ‘ì†í•©ë‹ˆë‹¤",
	            "ë¡œê·¸ì¸ì„ ì™„ë£Œí•©ë‹ˆë‹¤",
	            "ì˜ˆì•½ ë‚ ì§œ ì„ íƒ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤",
	            "F12 í‚¤ë¥¼ ëˆŒëŸ¬ Console íƒ­ì„ ì—½ë‹ˆë‹¤",
	            "ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì—¬ë„£ê³  Enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤",
	            "ì˜ˆì•½ ë²„íŠ¼ì´ í™œì„±í™”ë˜ë©´ ìë™ìœ¼ë¡œ í´ë¦­ë©ë‹ˆë‹¤"
	          ]
        };

        // Functions
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
        }
        
       
        function goScriptPage(siteId) {
          if(!window.loginId){ // common.js ìŠ¤ì½”í”„(id ê°’ ë“¤ê³ ì˜¤ê¸°)
       	    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");
       	    location.href = "/boardEx/login";
       	    return;
          }		
        	
          // âœ… ì‚¬ìš© íšŸìˆ˜ ì¦ê°€
          fetch('/boardEx/scripts/use', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: 'siteId=' + encodeURIComponent(siteId)
          });

          if (siteId === 'srt') {
            location.href = '/boardEx/autoScripts/srt';
            return;
          }

          alert('ğŸš§ í•´ë‹¹ ìë™ì˜ˆë§¤ ê¸°ëŠ¥ì€ í˜„ì¬ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.');
        }
		
        function viewScript(siteId) {
            currentSite = sites.find(s => s.id === siteId);
            if (!currentSite) return;

            document.getElementById('modalTitle').textContent = currentSite.name + ' ìë™ì˜ˆë§¤ ìŠ¤í¬ë¦½íŠ¸';
            document.getElementById('modalDescription').textContent = `ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ ${currentSite.name} ì‚¬ì´íŠ¸ì˜ ì½˜ì†” ì°½ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”`;
            document.getElementById('scriptCode').textContent = scripts[siteId];
            
            
            const instructionSteps = instructions[siteId].map((inst, i) => `
                <div class="instruction-step">
                    <div class="step-number">${i + 1}</div>
                    <div style="flex: 1; padding-top: 0.25rem;">${inst}</div>
                </div>
            `).join('');
            
            /* ëª¨ë‹¬ ìœ ì§€ / URL ë³€ê²½ì€ history.pushStateë¡œë§Œ í•˜ê³  ì´ë™ì€ ì•ˆí•¨ */
            history.pushState(null, '', '/boardEx/scripts?siteId=' + siteId);
            
            document.getElementById('instructionSteps').innerHTML = instructionSteps;
            
            document.getElementById('scriptModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('scriptModal').classList.remove('active');
            location.href = '/boardEx/scripts';
        }

        function copyScript() {
            const code = document.getElementById('scriptCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('âœ… ìŠ¤í¬ë¦½íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        function downloadScript() {
            if (!currentSite) return;
            
            const code = scripts[currentSite.id];
            const blob = new Blob([code], { type: 'text/javascript' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${currentSite.id}-auto-booking.js`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('âœ… ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        function goToSite() {
            if (currentSite) {
                window.open(currentSite.url, '_blank');
            }
        }

        function likePost(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.likes++;
                document.getElementById(`likes-${postId}`).textContent = post.likes;
            }
        }

        function openCreatePost() {
            const author = prompt('ì‘ì„±ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!author) return;
            
            const siteName = prompt('ì¶”ì²œí•˜ê³  ì‹¶ì€ ì‚¬ì´íŠ¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!siteName) return;
            
            const description = prompt('ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì™œ í•„ìš”í•œì§€, ì–´ë–¤ ê¸°ëŠ¥ì´ í•„ìš”í•œì§€):');
            if (!description) return;
            
            const newPost = {
                id: Date.now().toString(),
                author,
                siteName,
                category: 'í‹°ì¼€íŒ…',
                description,
                likes: 0,
                comments: 0,
                createdAt: new Date().toISOString().split('T')[0]
            };
            
            posts.unshift(newPost);
            renderPosts();
            document.getElementById('postCount').textContent = posts.length + 'ê°œ';
            document.getElementById('communityBadge').textContent = `(${posts.length})`;
            
            alert('âœ… ì‚¬ì´íŠ¸ ì¶”ì²œì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ê²€í†  í›„ ìŠ¹ì¸ë©ë‹ˆë‹¤.');
        }

        // Close modal on outside click
        document.getElementById('scriptModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
                /* 
                	ê¸°ì¡´ => ëª¨ë‹¬ì°½ì„ ë‹«ì„ ì‹œ siteId ê°’ì´ ìœ ì§€ê°€ ë˜ì–´ ìƒˆê³ ê³ ì¹¨ í•˜ë©´ ë‹¤ì‹œ ëª¨ë‹¬ì°½ì´ ëœ¸ 
                	ë³€ê²½ => locationì„ í†µí•´ scripts.htmlë¡œ ì´ë™
                */
                location.href = '/boardEx/scripts';
            }
        });
		
        const scrollTopBtn = document.getElementById("scroll-top");

        // ìŠ¤í¬ë¡¤ ì‹œ ë²„íŠ¼ í‘œì‹œ
        window.addEventListener("scroll", () => {
          if (window.scrollY > 300) {
            scrollTopBtn.classList.add("show");
          } else {
            scrollTopBtn.classList.remove("show");
          }
        });

        // í´ë¦­ ì‹œ ë§¨ ìœ„ë¡œ ì´ë™
        scrollTopBtn.addEventListener("click", (e) => {
          e.preventDefault();
          window.scrollTo({
            top: 0,
            behavior: "smooth"
          });
        });
        
        function goToCommunity() {
        	location.href= "/boardEx/community"
        }
        
</script>

<!-- âœ… Disclaimer Modal (footer ë°–ì— ìˆì–´ì•¼ í•¨) -->
<div id="disclaimerModal" class="modal" aria-hidden="true">
  <div class="modal-content" style="color: #1e293b;">
    <div class="modal-header">
      <h2 class="modal-title">âš ï¸ ì£¼ì˜ì‚¬í•­ ë° ë©´ì±…ì¡°í•­</h2>
      <p class="subtitle">ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ì „ ë°˜ë“œì‹œ í™•ì¸í•´ì£¼ì„¸ìš”</p>
    </div>

    <div class="modal-body">
      <ul style="padding-left: 1.5rem; font-size: 0.875rem;">
        <li>ë³¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” êµìœ¡ ë° ì°¸ê³  ëª©ì ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤</li>
        <li>ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ëª¨ë“  ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤</li>
        <li>ê³¼ë„í•œ ìš”ì²­ìœ¼ë¡œ ì¸í•œ ì„œë²„ ë¶€í•˜ ë° IP ì°¨ë‹¨ì— ìœ ì˜í•˜ì„¸ìš”</li>
        <li>ê° ì‚¬ì´íŠ¸ì˜ ì´ìš©ì•½ê´€ì„ ì¤€ìˆ˜í•˜ë©° ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤</li>
        <li>ì˜ˆë§¤ ì„±ê³µì„ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë©°, ì‹¤ì œ ì˜ˆë§¤ëŠ” í•´ë‹¹ ì‚¬ì´íŠ¸ ì •ì±…ì— ë”°ë¦…ë‹ˆë‹¤</li>
      </ul>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-outline" data-close>ë‹«ê¸°</button>
    </div>
  </div>
</div>

<!-- footerë¶€ë¶„ì„ footer.htmlìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ í¸ë¦¬ì„± í™•ë³´  -->    
<div th:replace="~{boardEx/footer :: footer}"></div>
</body>
<script src="/assets/js/common.js" defer></script>
<script>
function addMyScript(siteId) {
  if (!confirm('ë‚´ ìŠ¤í¬ë¦½íŠ¸ì— ì¶”ê°€ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;

  fetch('/boardEx/favoriteAdd', {
    method: 'POST',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: 'siteId=' + siteId
  })
  .then(res => {
    console.log('status:', res.status);

    if (res.status === 401) {
      alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤');
      location.href = '/boardEx/login';
      return;
    }

    if (res.status === 409) {
      alert('ì´ë¯¸ ì¦ê²¨ì°¾ê¸° ë˜ì–´ìˆìŠµë‹ˆë‹¤');
      return;
    }

    if (!res.ok) {
      alert('ì„œë²„ ì˜¤ë¥˜');
      return;
    }

    alert('ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤ â­');
    location.href = '/boardEx/favorites';
  });
}
</script>

</html>
